"""
University Materials Configuration
"""

MATERIALS = {
    # السنة الثالثة - الفصل الأول
    "year3_sem1_os": {
        "id": "year3_sem1_os",
        "name": "نظم تشغيل",
        "year": 3,
        "semester": 1,
        "instructor": "المهندسة شهد طراف",
        "description": "مبادئ نظم التشغيل وإدارة الموارد"
    },
    "year3_sem1_computing": {
        "id": "year3_sem1_computing",
        "name": "حوسبة",
        "year": 3,
        "semester": 1,
        "instructor": "المهندسة شهد طراف",
        "description": "أساسيات الحوسبة والحسابية"
    },
    "year3_sem1_algorithms": {
        "id": "year3_sem1_algorithms",
        "name": "خوارزميات",
        "year": 3,
        "semester": 1,
        "instructor": "المهندسة شهد طراف",
        "description": "تصميم وتحليل الخوارزميات"
    },
    
    # السنة الثالثة - الفصل الثاني
    "year3_sem2_ai_principles": {
        "id": "year3_sem2_ai_principles",
        "name": "مبادئ الذكاء الاصطناعي",
        "year": 3,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "المفاهيم الأساسية للذكاء الاصطناعي"
    },
    "year3_sem2_computer_arch": {
        "id": "year3_sem2_computer_arch",
        "name": "بناء الحواسيب",
        "year": 3,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "معمارية الحاسوب والمعالجات"
    },
    "year3_sem2_networks1": {
        "id": "year3_sem2_networks1",
        "name": "شبكات 1",
        "year": 3,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "أساسيات شبكات الحاسوب"
    },
    "year3_sem2_software_eng1": {
        "id": "year3_sem2_software_eng1",
        "name": "هندسة برمجيات 1",
        "year": 3,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "مبادئ هندسة البرمجيات"
    },
    "year3_sem2_complexity": {
        "id": "year3_sem2_complexity",
        "name": "تعقيد",
        "year": 3,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "نظرية التعقيد الحسابي"
    },
    
    # السنة الرابعة - الفصل الأول
    "year4_sem1_python": {
        "id": "year4_sem1_python",
        "name": "لغات Python",
        "year": 4,
        "semester": 1,
        "instructor": "المهندسة شهد طراف",
        "description": "البرمجة بلغة Python"
    },
    "year4_sem1_neural_networks": {
        "id": "year4_sem1_neural_networks",
        "name": "شبكات عصبونية",
        "year": 4,
        "semester": 1,
        "instructor": "المهندسة شهد طراف",
        "description": "الشبكات العصبونية الاصطناعية"
    },
    "year4_sem1_multimedia": {
        "id": "year4_sem1_multimedia",
        "name": "نظم وسائط متعددة",
        "year": 4,
        "semester": 1,
        "instructor": "المهندسة شهد طراف",
        "description": "معالجة الصوت والصورة والفيديو"
    },
    "year4_sem1_concurrent": {
        "id": "year4_sem1_concurrent",
        "name": "برمجة تفرعية",
        "year": 4,
        "semester": 1,
        "instructor": "المهندسة شهد طراف",
        "description": "البرمجة المتزامنة والمتوازية"
    },
    
    # السنة الرابعة - الفصل الثاني
    "year4_sem2_distributed": {
        "id": "year4_sem2_distributed",
        "name": "نظم موزعة",
        "year": 4,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "أنظمة الحوسبة الموزعة"
    },
    "year4_sem2_compilers": {
        "id": "year4_sem2_compilers",
        "name": "بناء مترجمات",
        "year": 4,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "تصميم وبناء المترجمات"
    },
    "year4_sem2_machine_learning": {
        "id": "year4_sem2_machine_learning",
        "name": "تعلم الآلة",
        "year": 4,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "خوارزميات التعلم الآلي"
    },
    "year4_sem2_computer_vision": {
        "id": "year4_sem2_computer_vision",
        "name": "رؤية حاسوبية",
        "year": 4,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "معالجة الصور والرؤية الحاسوبية"
    },
    
    # السنة الخامسة - الفصل الأول
    "year5_sem1_probabilistic_logic": {
        "id": "year5_sem1_probabilistic_logic",
        "name": "منطق ترجيحي",
        "year": 5,
        "semester": 1,
        "instructor": "المهندسة شهد طراف",
        "description": "المنطق الاحتمالي والاستدلال"
    },
    "year5_sem1_robotics": {
        "id": "year5_sem1_robotics",
        "name": "روبوتية",
        "year": 5,
        "semester": 1,
        "instructor": "المهندسة شهد طراف",
        "description": "أساسيات الروبوتات"
    },
    
    # السنة الخامسة - الفصل الثاني
    "year5_sem2_nlp": {
        "id": "year5_sem2_nlp",
        "name": "معالجة اللغات الطبيعية",
        "year": 5,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "معالجة وفهم اللغة الطبيعية"
    },
    "year5_sem2_auto_learning": {
        "id": "year5_sem2_auto_learning",
        "name": "تعلم تلقائي",
        "year": 5,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "تقنيات التعلم التلقائي المتقدمة"
    },
    "year5_sem2_knowledge_discovery": {
        "id": "year5_sem2_knowledge_discovery",
        "name": "استكشاف معرفة",
        "year": 5,
        "semester": 2,
        "instructor": "المهندسة شهد طراف",
        "description": "استخراج المعرفة من البيانات"
    }
}


# تنظيم المواد حسب السنة والفصل
MATERIALS_BY_YEAR = {
    3: {
        1: ["year3_sem1_os", "year3_sem1_computing", "year3_sem1_algorithms"],
        2: ["year3_sem2_ai_principles", "year3_sem2_computer_arch", "year3_sem2_networks1", 
            "year3_sem2_software_eng1", "year3_sem2_complexity"]
    },
    4: {
        1: ["year4_sem1_python", "year4_sem1_neural_networks", "year4_sem1_multimedia", 
            "year4_sem1_concurrent"],
        2: ["year4_sem2_distributed", "year4_sem2_compilers", "year4_sem2_machine_learning", 
            "year4_sem2_computer_vision"]
    },
    5: {
        1: ["year5_sem1_probabilistic_logic", "year5_sem1_robotics"],
        2: ["year5_sem2_nlp", "year5_sem2_auto_learning", "year5_sem2_knowledge_discovery"]
    }
}


def get_material(material_id: str):
    """Get material by ID"""
    return MATERIALS.get(material_id)


def get_materials_by_year_semester(year: int, semester: int):
    """Get materials by year and semester"""
    material_ids = MATERIALS_BY_YEAR.get(year, {}).get(semester, [])
    return [MATERIALS[mid] for mid in material_ids]


def calculate_materials_price(material_ids: list):
    """Calculate price for multiple materials"""
    count = len(material_ids)
    if count <= 0:
        return 0
    if count == 1:
        return 75000
    if count == 2:
        return 125000
    # 3 أو أكثر: 125 ألف + 50 ألف لكل مادة إضافية
    return 125000 + (count - 2) * 50000


def get_all_years():
    """Get all available years"""
    return list(MATERIALS_BY_YEAR.keys())


def get_all_materials():
    """Get all materials"""
    return list(MATERIALS.values())
